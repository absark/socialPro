function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{tQwF:function(t,e,n){"use strict";n.r(e),n.d(e,"PostModule",(function(){return C}));var i=n("ofXK"),a=n("tyNb"),o=n("3Pt+"),r=n("AytR"),s=n("fXoL"),c=n("rIWL"),b=n("tk/3"),u=n("NFeN"),d=n("bTqV"),m=n("Wp6s");function l(t,e){1&t&&(s.Rb(0,"div",16),s.Rb(1,"p",17),s.qc(2,"Loading..."),s.Qb(),s.Qb())}function p(t,e){if(1&t&&s.Nb(0,"img",18),2&t){var n=s.bc();s.ec("src",n.user.profile,s.kc)}}function g(t,e){if(1&t&&s.Nb(0,"img",21),2&t){var n=s.bc().$implicit;s.ec("src",n.img,s.kc)}}function f(t,e){if(1&t&&(s.Rb(0,"mat-card",19),s.Rb(1,"mat-card-header"),s.Nb(2,"img",18),s.Rb(3,"mat-card-title"),s.qc(4),s.Qb(),s.Qb(),s.pc(5,g,1,1,"img",20),s.Rb(6,"mat-card-content"),s.Rb(7,"p"),s.qc(8),s.Qb(),s.Qb(),s.Rb(9,"mat-card-actions"),s.Rb(10,"button",14),s.qc(11,"LIKE"),s.Qb(),s.Rb(12,"button",14),s.qc(13,"SHARE"),s.Qb(),s.Qb(),s.Qb()),2&t){var n=e.$implicit,i=s.bc();s.Bb(2),s.ec("src",i.user.profile,s.kc),s.Bb(2),s.rc(i.user.name),s.Bb(1),s.ec("ngIf",n.img),s.Bb(3),s.sc(" ",n.message," ")}}var h,v,_,w=[{path:"",component:(h=function(){function t(e,n,i){_classCallCheck(this,t),this.service=e,this.fb=n,this.http=i,this.url=r.a.ENDPOINT,this.selected=!1,this.isLoading=!1,this.submitted=!1,this.userId=localStorage.getItem("user")}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.http.get("".concat(this.url,"/api/v1/users/").concat(this.userId)).subscribe((function(e){t.user=e.user}),(function(t){return console.log(t.error.message)})),this.form=this.fb.group({message:["",[o.k.required]],img:[""],userid:[this.userId]}),this.getpost()}},{key:"onFileChanged",value:function(t){this.selected=!0,this.form.patchValue({img:t.target.files[0]}),this.form.get("img").updateValueAndValidity()}},{key:"onSignup",value:function(t){var e=this;this.submitted=!0,this.isLoading=!0;var n=new FormData;n.append("img",this.form.value.img),n.append("message",this.form.value.message),n.append("userid",this.form.value.userid),this.http.post(this.url+"/api/v1/users/posts",n).subscribe((function(t){e.getpost()}),(function(t){alert(t.error.message)}))}},{key:"getpost",value:function(){var t=this;this.http.get("".concat(this.url,"/api/v1/users/posts/").concat(this.userId)).subscribe((function(e){t.isLoading=!1,t.posts=e.posts}),(function(t){return console.log(t.error.message)}))}}]),t}(),h.\u0275fac=function(t){return new(t||h)(s.Mb(c.a),s.Mb(o.b),s.Mb(b.a))},h.\u0275cmp=s.Gb({type:h,selectors:[["app-post"]],decls:31,vars:5,consts:[[1,"post_box"],["class","loading card",4,"ngIf"],[1,"d-flex","new_post","my-2",3,"formGroup","ngSubmit"],["type","file",2,"display","none",3,"change"],["fileInput",""],[1,"img-icon",3,"click"],[2,"flex","1 1 auto"],["placeholder","What's going on your mind ?","rows","1","formControlName","message",1,"form-control"],[1,"example-button-container"],["mat-mini-fab","","color","primary","type","submit",2,"outline","none",3,"disabled"],[1,"text-white"],[1,"mat-card"],["mat-card-avatar","","class","avatar",3,"src",4,"ngIf"],["mat-card-image","","src","https://material.angular.io/assets/img/examples/shiba2.jpg","alt","Photo of a Shiba Inu"],["mat-button",""],["class","mat-card my-2",4,"ngFor","ngForOf"],[1,"loading","card"],[1,"mt-2"],["mat-card-avatar","",1,"avatar",3,"src"],[1,"mat-card","my-2"],["mat-card-image","","class","my-3",3,"src",4,"ngIf"],["mat-card-image","",1,"my-3",3,"src"]],template:function(t,e){if(1&t){var n=s.Sb();s.Rb(0,"div",0),s.pc(1,l,3,0,"div",1),s.Rb(2,"form",2),s.Zb("ngSubmit",(function(){return e.onSignup(e.form)})),s.Rb(3,"div"),s.Rb(4,"input",3,4),s.Zb("change",(function(t){return e.onFileChanged(t)})),s.Qb(),s.Rb(6,"mat-icon",5),s.Zb("click",(function(){return s.jc(n),s.ic(5).click()})),s.qc(7,"add_photo_alternate"),s.Qb(),s.Qb(),s.Rb(8,"div",6),s.Nb(9,"textarea",7),s.Qb(),s.Rb(10,"div",8),s.Rb(11,"button",9),s.Rb(12,"mat-icon",10),s.qc(13,"send"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(14,"mat-card",11),s.Rb(15,"mat-card-header"),s.pc(16,p,1,1,"img",12),s.Rb(17,"mat-card-title"),s.qc(18,"Shiba Inu"),s.Qb(),s.Rb(19,"mat-card-subtitle"),s.qc(20,"Dog Breed"),s.Qb(),s.Qb(),s.Nb(21,"img",13),s.Rb(22,"mat-card-content"),s.Rb(23,"p"),s.qc(24," The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from Japan. A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was originally bred for hunting. "),s.Qb(),s.Qb(),s.Rb(25,"mat-card-actions"),s.Rb(26,"button",14),s.qc(27,"LIKE"),s.Qb(),s.Rb(28,"button",14),s.qc(29,"SHARE"),s.Qb(),s.Qb(),s.Qb(),s.pc(30,f,14,4,"mat-card",15),s.Qb()}2&t&&(s.Bb(1),s.ec("ngIf",e.isLoading),s.Bb(1),s.ec("formGroup",e.form),s.Bb(9),s.ec("disabled",!e.selected),s.Bb(5),s.ec("ngIf",e.user),s.Bb(14),s.ec("ngForOf",e.posts))},directives:[i.j,o.l,o.h,o.d,u.a,o.a,o.g,o.c,d.a,m.a,m.e,m.i,m.h,m.f,m.d,m.b,i.i,m.c],styles:[".post_box[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;justify-content:center}.new_post[_ngcontent-%COMP%], .post_box[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{margin:0 auto;width:50%}.new_post[_ngcontent-%COMP%]{flex-direction:row;background:#fff;border-radius:4px;padding:15px 20px;align-items:center}.new_post[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0 10px}.new_post[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer}.new_post[_ngcontent-%COMP%]   .img-icon[_ngcontent-%COMP%]{color:#233fb9;font-size:30px}.avatar[_ngcontent-%COMP%]{background-size:cover;background-position:50%}@media (max-width:500px){.new_post[_ngcontent-%COMP%]{width:100%;margin:0}.mat-card[_ngcontent-%COMP%]{width:100%!important;margin:10px 0!important}}.loading[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;padding:10px 80px;transform:translate(-50%,-50%);z-index:200}"]}),h)}],y=((v=function t(){_classCallCheck(this,t)}).\u0275mod=s.Kb({type:v}),v.\u0275inj=s.Jb({factory:function(t){return new(t||v)},imports:[[a.d.forChild(w)],a.d]}),v),R=n("sKgh"),C=((_=function t(){_classCallCheck(this,t)}).\u0275mod=s.Kb({type:_}),_.\u0275inj=s.Jb({factory:function(t){return new(t||_)},imports:[[i.b,y,R.a,o.j,b.b]]}),_)}}]);