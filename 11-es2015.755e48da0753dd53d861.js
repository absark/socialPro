(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{tQwF:function(t,e,n){"use strict";n.r(e),n.d(e,"PostModule",(function(){return Q}));var i=n("ofXK"),a=n("tyNb"),s=n("3Pt+"),o=n("AytR"),r=n("fXoL"),c=n("rIWL"),b=n("tk/3"),d=n("NFeN"),m=n("bTqV"),g=n("Wp6s");function p(t,e){1&t&&(r.Rb(0,"div",16),r.Rb(1,"p",17),r.qc(2,"Loading..."),r.Qb(),r.Qb())}function u(t,e){if(1&t&&r.Nb(0,"img",18),2&t){const t=r.bc();r.ec("src",t.user.profile,r.kc)}}function l(t,e){if(1&t&&r.Nb(0,"img",21),2&t){const t=r.bc().$implicit;r.ec("src",t.img,r.kc)}}function h(t,e){if(1&t&&(r.Rb(0,"mat-card",19),r.Rb(1,"mat-card-header"),r.Nb(2,"img",18),r.Rb(3,"mat-card-title"),r.qc(4),r.Qb(),r.Qb(),r.pc(5,l,1,1,"img",20),r.Rb(6,"mat-card-content"),r.Rb(7,"p"),r.qc(8),r.Qb(),r.Qb(),r.Rb(9,"mat-card-actions"),r.Rb(10,"button",14),r.qc(11,"LIKE"),r.Qb(),r.Rb(12,"button",14),r.qc(13,"SHARE"),r.Qb(),r.Qb(),r.Qb()),2&t){const t=e.$implicit,n=r.bc();r.Bb(2),r.ec("src",n.user.profile,r.kc),r.Bb(2),r.rc(n.user.name),r.Bb(1),r.ec("ngIf",t.img),r.Bb(3),r.sc(" ",t.message," ")}}const f=[{path:"",component:(()=>{class t{constructor(t,e,n){this.service=t,this.fb=e,this.http=n,this.url=o.a.ENDPOINT,this.selected=!1,this.isLoading=!1,this.submitted=!1,this.userId=localStorage.getItem("user")}ngOnInit(){this.http.get(`${this.url}/api/v1/users/${this.userId}`).subscribe(t=>{this.user=t.user},t=>console.log(t.error.message)),this.form=this.fb.group({message:["",[s.k.required]],img:[""],userid:[this.userId]}),this.getpost()}onFileChanged(t){this.selected=!0,this.form.patchValue({img:t.target.files[0]}),this.form.get("img").updateValueAndValidity()}onSignup(t){this.submitted=!0,this.isLoading=!0;const e=new FormData;e.append("img",this.form.value.img),e.append("message",this.form.value.message),e.append("userid",this.form.value.userid),this.http.post(this.url+"/api/v1/users/posts",e).subscribe(t=>{this.getpost()},t=>{alert(t.error.message)})}getpost(){this.http.get(`${this.url}/api/v1/users/posts/${this.userId}`).subscribe(t=>{this.isLoading=!1,this.posts=t.posts},t=>console.log(t.error.message))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(c.a),r.Mb(s.b),r.Mb(b.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-post"]],decls:31,vars:5,consts:[[1,"post_box"],["class","loading card",4,"ngIf"],[1,"d-flex","new_post","my-2",3,"formGroup","ngSubmit"],["type","file",2,"display","none",3,"change"],["fileInput",""],[1,"img-icon",3,"click"],[2,"flex","1 1 auto"],["placeholder","What's going on your mind ?","rows","1","formControlName","message",1,"form-control"],[1,"example-button-container"],["mat-mini-fab","","color","primary","type","submit",2,"outline","none",3,"disabled"],[1,"text-white"],[1,"mat-card"],["mat-card-avatar","","class","avatar",3,"src",4,"ngIf"],["mat-card-image","","src","https://material.angular.io/assets/img/examples/shiba2.jpg","alt","Photo of a Shiba Inu"],["mat-button",""],["class","mat-card my-2",4,"ngFor","ngForOf"],[1,"loading","card"],[1,"mt-2"],["mat-card-avatar","",1,"avatar",3,"src"],[1,"mat-card","my-2"],["mat-card-image","","class","my-3",3,"src",4,"ngIf"],["mat-card-image","",1,"my-3",3,"src"]],template:function(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",0),r.pc(1,p,3,0,"div",1),r.Rb(2,"form",2),r.Zb("ngSubmit",(function(){return e.onSignup(e.form)})),r.Rb(3,"div"),r.Rb(4,"input",3,4),r.Zb("change",(function(t){return e.onFileChanged(t)})),r.Qb(),r.Rb(6,"mat-icon",5),r.Zb("click",(function(){return r.jc(t),r.ic(5).click()})),r.qc(7,"add_photo_alternate"),r.Qb(),r.Qb(),r.Rb(8,"div",6),r.Nb(9,"textarea",7),r.Qb(),r.Rb(10,"div",8),r.Rb(11,"button",9),r.Rb(12,"mat-icon",10),r.qc(13,"send"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(14,"mat-card",11),r.Rb(15,"mat-card-header"),r.pc(16,u,1,1,"img",12),r.Rb(17,"mat-card-title"),r.qc(18,"Shiba Inu"),r.Qb(),r.Rb(19,"mat-card-subtitle"),r.qc(20,"Dog Breed"),r.Qb(),r.Qb(),r.Nb(21,"img",13),r.Rb(22,"mat-card-content"),r.Rb(23,"p"),r.qc(24," The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from Japan. A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was originally bred for hunting. "),r.Qb(),r.Qb(),r.Rb(25,"mat-card-actions"),r.Rb(26,"button",14),r.qc(27,"LIKE"),r.Qb(),r.Rb(28,"button",14),r.qc(29,"SHARE"),r.Qb(),r.Qb(),r.Qb(),r.pc(30,h,14,4,"mat-card",15),r.Qb()}2&t&&(r.Bb(1),r.ec("ngIf",e.isLoading),r.Bb(1),r.ec("formGroup",e.form),r.Bb(9),r.ec("disabled",!e.selected),r.Bb(5),r.ec("ngIf",e.user),r.Bb(14),r.ec("ngForOf",e.posts))},directives:[i.j,s.l,s.h,s.d,d.a,s.a,s.g,s.c,m.a,g.a,g.e,g.i,g.h,g.f,g.d,g.b,i.i,g.c],styles:[".post_box[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;justify-content:center}.new_post[_ngcontent-%COMP%], .post_box[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{margin:0 auto;width:50%}.new_post[_ngcontent-%COMP%]{flex-direction:row;background:#fff;border-radius:4px;padding:15px 20px;align-items:center}.new_post[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:0 10px}.new_post[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer}.new_post[_ngcontent-%COMP%]   .img-icon[_ngcontent-%COMP%]{color:#233fb9;font-size:30px}.avatar[_ngcontent-%COMP%]{background-size:cover;background-position:50%}@media (max-width:500px){.new_post[_ngcontent-%COMP%]{width:100%;margin:0}.mat-card[_ngcontent-%COMP%]{width:100%!important;margin:10px 0!important}}.loading[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;padding:10px 80px;transform:translate(-50%,-50%);z-index:200}"]}),t})()}];let R=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[a.d.forChild(f)],a.d]}),t})();var w=n("sKgh");let Q=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[i.b,R,w.a,s.j,b.b]]}),t})()}}]);